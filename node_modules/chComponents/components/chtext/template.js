'use strict';

import dom from '../../dom.js';

const template = dom.create({
    cssClassName: 'container'
});

const parentInput = dom.create({
    cssClassName: 'wrapperInput',
    parent: template
})

const elInput = dom.create({
    parent: parentInput,
    type: 'input'
})

const btnClearInput = dom.create({
    parent: parentInput,
    cssClassName: 'btnClear btn',
})

const btnClearInputInner = dom.create({
    parent: btnClearInput,
    content: 'âœ–',
    cssClassName: 'inner',
})

let path = new URL(import.meta.url).pathname;
path = `${path.substring(0, path.lastIndexOf('/') + 1)}styles.css`;

const elStyle = dom.create({
    type: 'style',
    parent: template,
    content: `
        @import '${path}';
    `
});

fetch('/chcomponents.css')
    .then(response => response.text())
    .then(data => {
        if (!data.startsWith('<!DOCTYPE html>')) {
            console.log('add CSS');
            console.log(elStyle);

            elStyle.innerHTML += '@import "/chcomponents.css";'
        }
    }).catch(
        console.warn
    );


export default template;